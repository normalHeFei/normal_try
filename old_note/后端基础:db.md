1. mysql 的锁机制：  
主要分为表锁和行锁，myIsam用的是表锁，innodb用的是行锁。表锁锁定粒度大，并发不高，但易于控制，不容易发生死锁;行锁锁定粒度小，并发高，容易发送死锁。  

表锁（myisam所采用的）又分为读锁和写锁： 读锁读读可并行，读写阻塞。 //todo myISAM 的表锁（写锁和读锁）实现 。myISAM虽然锁定的是全表，但是有一个Concurrent Insert 选项，支持插入是可以并行的。 

行锁（innodb所采用的）又分为共享锁和排他锁，类似于读写锁的概念。已有的被共享锁锁定的资源，别的线程可以再加上一个共享锁。 如果是一个拍他锁，那就不能够再加锁了。 innodb所采用的锁机制是通过 间隙锁(利用索引) 实现的。 由于利用索引实现，故有如下几个缺点：   
a. query操作无法利用索引的时候，会锁全表  
b. 锁定范围按照索引所影响的范围锁定    
故如果索引建的不合理，其对并发度有一定的印象   


